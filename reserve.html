<!DOCTYPE html> <!--[if gt IE 8]><!-->
<html class="no-js">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <link rel="stylesheet" href="" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <script src="https://code.jquery.com/jquery.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="jumbotron">
        <h1 class="text-center">
          Super Duper
          cool Sushi Bar
        </h1>
        <hr />
        <h2 class="text-center">Make your reservation</h2>
        <br />

        <div class="text-center">
          <a href="/tables"
            ><button type="button" class="btn btn-lg btn-primary">
              <span class="glyphicon glyphicon-list-alt"></span> View
              Tables
            </button></a
          >
          <a href="/"
            ><button type="button" class="btn btn-lg btn-secondary">
              <span class="glyphicon glyphicon-home"></span>home</button
          ></a>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12">
          <!-- Reservation Page -->
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">Table Reservation</h4>
            </div>
            <div class="panel-body">
              <form role="form">
                <div class="form-group">
                  <label for="">Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="reserve_name"
                  />
                </div>

                <div class="form-group">
                  <label for="">Phone Number</label>
                  <input
                    type="text"
                    class="form-control"
                    id="reserve_phone"
                  />
                </div>

                <div class="form-group">
                  <label for="">Email</label>
                  <input
                    type="text"
                    class="form-control"
                    id="reserve_email"
                  />
                </div>

                <div class="form-group">
                  <label for="">Unique ID</label>
                  <input
                    type="text"
                    class="form-control"
                    id="reserve_uniqueID"
                  />
                </div>

                <button type="submit" class="btn btn-primary submit">
                  Submit
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <footer class="footer">
        <div class="container">
          <p>
            <a href="/api/tables">API Table Link</a> |
            <a href="/api/waitlist">API Wait List</a>
          </p>
        </div>
      </footer>
    </div>

    <script async defer>
      $("submit").on("click", function(){
        var reserveObject = {
          customerName: $("#reserve_name").val().trim(),
          phoneNumber: $("#reserve_phone").val().trim(),
          email: $("#reserve_email").val().trim(),
          id: $("#reserve_id").val().trim()
        }
        $.post("/api/tables", reserveObject, function(data) {
          if(data){
            alert("You've successfully made a reservation!")
          } else {
            alert("Too many reservations already, you're on the waitlist")
          }
        })
      })
    </script>
  </body>
</html>
